<!DOCTYPE html>
<html lang="ru">
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


    <title>Как приручить Jenkins API</title>
    <meta name="description" content="Автоматизация рутины приоритетнее давления массой">
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta property="og:site_name" content="Заметки Автоматизатора">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Как приручить Jenkins API">
    <meta property="og:image" content="http://automation-remarks.com/images/blog-logo.png"/>

        	<meta property="og:description" content="Небольшой пост о том, как можно добраться до внутренностей Jenkins."/>
	
	<link rel="stylesheet" href="../css/blueimp-gallery.min.css">	
    <link rel="stylesheet" type="text/css" href="../css/dependencies.min.css"/>
    <link rel="stylesheet" href="../css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../css/style.min.css" />
    <link rel="stylesheet" type="text/css" href="../css/blog.css" />

    <script>
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

       ga('create', 'UA-57010828-1', 'auto');
       ga('send', 'pageview');

    </script>
</head>

<body>
    <section id="wrapper">
        <div id="ajax-container">
	<script>var disqus="httpspirogovgithubio";</script>

<nav id="nav" class="nav">
        <div class="nav-panel">
          <a class="main_link" href="/">
            <span class="name">Главная</span>
          </a>
          <a class="video_link" href="/tags/Видео.html" style="
              width: 5em;
          ">
                      <span class="name">Видео</span>
                    </a>
          <a class="author_link" href="/archive.html" style="
              width: 5em;
          ">
                      <span class="name">Архив</span>
                    </a>
          <a class="author_link" href="/author/">
            <span class="name">Об Авторе</span>
          </a>
          <a class="course_link" href="/course" style="
              width: 7em;
          ">
                      <span class="name">Обучение</span>
          </a>
        </div>

        <div class="nav-menu">
          <a class="rss" href="https://www.facebook.com/automationremarks"><i class="fa fa-facebook"></i></a>
          <a class="rss" href="https://vk.com/qaremarks"><i class="fa fa-vk"></i></a>
          <a class="rss" href="https://twitter.com/s_pirogov"><i class="fa fa-twitter"></i></a>
          <a class="rss" href="http://104.198.254.124:3000"><i class="fa fa-slack"></i></a>
        </div>
</nav>	
	<main class="content" role="main">
		<article class="post">
			<div class="inner inner-post">
				<div id="push">
                    <header class="post-header">
                        <span class="post-meta">
                            <span class="post-author">
                                <a href="/author/index.html">Сергей Пирогов</a>
                            </span> |
                            <span class="post-date">
                                19/11/2014
                            </span>
                        </span>
                        <div class="clear"></div>
                        <h1 class="post-title">Как приручить Jenkins API</h1>
                    </header>

                    <section class="post-content">
                        <div class="paragraph">
<p>Небольшой пост о том, как можно добраться до внутренностей <a href="https://jenkins.io/index.html">Jenkins</a>.
Бывают ситуации, когда СI сервер установлен где-то на удаленной машине, доступ к которой осуществляется через VPN. В общем ситуация сложная, а информацию о джобах и письма от дженкинса получать хотелось бы.
В таком случае в помощь приходит <a href="https://wiki.jenkins-ci.org/display/JENKINS/Remote+access+API">Jenkins API</a>.
API позволяет извлекать информацию в трех форматах XML, JSON и Python.
Как это работает? Очень просто: все что нужно - вбить в браузере в строке адреса:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">http://&lt;jenkins host&gt;/api/json</code></pre>
</div>
</div>
<div class="paragraph">
<p>Вуаля! Круто, не правда ли? Но текст не читабелен. Решается это просто: нужно добавить pretty формат:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">http://9.21.103.66:8255/jenkins/api/json?pretty=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Теперь на экране в <strong>JSON</strong> формате отображается информация обо всех джобах. Для того, чтобы опуститься на уровень одного <strong>Job</strong>, необходимо просто указать имя:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">http://&lt;JENKINS_HOST&gt;/job/&lt;JOB_NAME&gt;/api/json?pretty=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>А чтобы получить информацию о какой-либо сборке, нужно всего лишь указать ее номер:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">http://&lt;JENKINS_HOST&gt;/job/&lt;JOB_NAME&gt;/&lt;BUILD_NUMBER&gt;/api/json?pretty=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>После получения информации ее можно использовать в благих целях. Но об этом я расскажу в следующий раз&#8230;&#8203;</p>
</div>
                    </section>

                   <!-- Begin MailChimp Signup Form -->
                   <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
                   <style type="text/css">
                   	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
                   	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
                   	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
                   </style>
                   <div id="mc_embed_signup">
                   <form action="//automation-remarks.us10.list-manage.com/subscribe/post?u=d24f95005c1b66c13389aceb9&amp;id=ce47ec0c3f" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                       <div id="mc_embed_signup_scroll">
                   	<label for="mce-EMAIL">Подписывайтесь на email рассылку</label>
                   	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
                       <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                       <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_d24f95005c1b66c13389aceb9_ce47ec0c3f" tabindex="-1" value=""></div>
                       <div class="clear"><input type="submit" value="Подписаться" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
                       </div>
                   </form>
                   </div>

                   <!--End mc_embed_signup-->

                    <footer class="post-footer">
                            <div class="post-tags">
                                    <a href="/tags/Jenkins.html">Jenkins</a>
                                    <a href="/tags/CI.html">CI</a>
                            </div>
                    </footer>

                    <div class="row">
                          <div class="col-md-6">
                                <div class='related-posts-holder'>
                                     <h2>Похожие заметки:</h2>
                                     <ul class="related-posts">
                                                <li><a class='js-ajax-link' href="/2017/kirk-chrome-devtools/index.html">Kirk + chrome devtools</a></li>
                                                <li><a class='js-ajax-link' href="/2017/selenoid/index.html">Как мы перешли на Selenoid</a></li>
                                                <li><a class='js-ajax-link' href="/2017/video-recorder-update/index.html">Video Recorder v1.6</a></li>
                                                <li><a class='js-ajax-link' href="/2017/kotlin-power/index.html">Используем супер силу Kotlin в тестах</a></li>
                                                <li><a class='js-ajax-link' href="/2017/kotlin/index.html">Все будет Kotlin</a></li>
                                                <li><a class='js-ajax-link' href="/2017/allure-gradle-without-plugin/index.html">Переходим на Allure2 без Gradle плагина</a></li>
                                                <li><a class='js-ajax-link' href="/2017/python-training/index.html">Мастер-класс: Automation in Action With Python</a></li>
                                     </ul>
                                 </div>
                          </div>
                          <div class="col-md-6">

                          </div>
                    </div>
				</div>
				<aside class="post-comments">
                    <div id="disqus_thread">
                        <script async="async">(function(d, s, id) {
                                  var js, fjs = d.getElementsByTagName(s)[0];
                                  if (d.getElementById(id)) return;
                                  js = d.createElement(s); js.id = id;
                                  js.src = "//connect.facebook.net/ru_RU/sdk.js#xfbml=1&version=v2.5&appId=344312565764603";
                                  fjs.parentNode.insertBefore(js, fjs);
                                }(document, 'script', 'facebook-jssdk'));
                        </script>
                    </div>
                </aside>
			</div>
		</article>
	</main>

            <footer id="footer">
              <section class="credits">
                <span class="credits-software">Published with <a href="http://jbake.org/">JBake</a></span>
              </section>
            </footer>
         </div>
    </section>

    <script type="text/javascript" src="../js/dependencies.min.js"></script>
    <script type="text/javascript" src="../js/script.js" async="async"></script>
    <script src="//my.hellobar.com/b89babe68c85bfcf7416926983e86b31a9467186.js" type="text/javascript" charset="utf-8" async="async"></script>
</body>
</html>