<!DOCTYPE html>
<html lang="ru">
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


    <title>Travis CI на службе у автоматизации</title>
    <meta name="description" content="Автоматизация рутины приоритетнее давления массой">
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta property="og:site_name" content="Заметки Автоматизатора">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Travis CI на службе у автоматизации">
    <meta property="og:image" content="http://automation-remarks.com/images/blog-logo.png"/>

        	<meta property="og:description" content="В данной заметке хочу поговорить о сервисе, который называется Travis CI"/>
	
	<link rel="stylesheet" href="../css/blueimp-gallery.min.css">	
    <link rel="stylesheet" type="text/css" href="../css/dependencies.min.css"/>
    <link rel="stylesheet" href="../css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../css/style.min.css" />
    <link rel="stylesheet" type="text/css" href="../css/blog.css" />

    <script>
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

       ga('create', 'UA-57010828-1', 'auto');
       ga('send', 'pageview');

    </script>
</head>

<body>
    <section id="wrapper">
        <div id="ajax-container">
	<script>var disqus="httpspirogovgithubio";</script>

<nav id="nav" class="nav">
        <div class="nav-panel">
          <a class="main_link" href="/">
            <span class="name">Главная</span>
          </a>
          <a class="video_link" href="/tags/Видео.html" style="
              width: 5em;
          ">
                      <span class="name">Видео</span>
                    </a>
          <a class="author_link" href="/archive.html" style="
              width: 5em;
          ">
                      <span class="name">Архив</span>
                    </a>
          <a class="author_link" href="/author/">
            <span class="name">Об Авторе</span>
          </a>
          <a class="course_link" href="/course" style="
              width: 7em;
          ">
                      <span class="name">Обучение</span>
          </a>
        </div>

        <div class="nav-menu">
          <a class="rss" href="https://www.facebook.com/automationremarks"><i class="fa fa-facebook"></i></a>
          <a class="rss" href="https://vk.com/qaremarks"><i class="fa fa-vk"></i></a>
          <a class="rss" href="https://twitter.com/s_pirogov"><i class="fa fa-twitter"></i></a>
          <a class="rss" href="http://130.211.118.229"><i class="fa fa-slack"></i></a>
        </div>
</nav>	
	<main class="content" role="main">
		<article class="post">
			<div class="inner inner-post">
				<div id="push">
                    <header class="post-header">
                        <span class="post-meta">
                            <span class="post-author">
                                <a href="/author/index.html">Сергей Пирогов</a>
                            </span> |
                            <span class="post-date">
                                24/10/2015
                            </span>
                        </span>
                        <div class="clear"></div>
                        <h1 class="post-title">Travis CI на службе у автоматизации</h1>
                    </header>

                    <section class="post-content">
                        <div class="paragraph">
<p>В данной заметке хочу поговорить о сервисе, который называется <a href="https://travis-ci.org/">Travis CI</a>. Достаточно интересный проект, о котором может многие и слышали, но не имели возможности попробовать. Так вот, я попробовал и мне очень понравилось, теперь поделюсь своими впечатлениями.</p>
</div>
<div class="paragraph">
<p>Итак, начнем с самого начала. Для тех, кто не знаком с этим проектом: <strong>Travis CI</strong> - это облачный сервис, который позволяет пользователям организовать CI процесс для своих проектов. Для того, чтобы начать пользоваться этим сервисом, нужно завести аккаунт на <strong>github</strong>.</p>
</div>
<div class="paragraph">
<p>Далее все очень просто: переходим на <a href="https://travis-ci.org" class="bare">https://travis-ci.org</a> и логинимся с помощью гитхаб.</p>
</div>
<div class="paragraph">
<p>Хочу отметить, что Travis меня удивил простотой интеграции, ведь все, что нужно для начала работы, - просто выбрать свой репозиторий и создать в нем файл <strong>.travis.yml</strong>.</p>
</div>
<div class="paragraph">
<p>Я экспериментировал со своим репозиторием, в котором лежит проект с Groovy репортером для Jbehave.</p>
</div>
<div class="paragraph">
<p>Travis CI поддерживает большое количество языков программирования, для полного ознакомления можно почитать <a href="http://docs.travis-ci.com/user/getting-started/">здесь</a>.</p>
</div>
<div class="paragraph">
<p>Мой проект написан на Groovy и собирается с помощью <strong>Gradle</strong>. Какое удивление - <strong>Travis</strong> умеет работать со всеми этими штуками. Все, что нужно, - просто указать в созданном файле <strong>.travis.yml</strong> пару строк:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">language: groovy
jdk:
 - oraclejdk7
branches:
 only:
 - master</code></pre>
</div>
</div>
<div class="paragraph">
<p>Идем в Travis CI <a href="https://travis-ci.org/profile/${username}" class="bare">https://travis-ci.org/profile/${username}</a> и среди своих репозиториев выбираем нужный и включаем его в билд процесс.</p>
</div>
<div class="paragraph">
<p>Затем меняем в нашем проекте любой файлик, коммитим, пушим и начинается магия. Travis сам понимает, какого рода проект и какой инструмент сборки использовать. Буквально через пару секунд он начинает собирать ваш проект.</p>
</div>
<div class="paragraph">
<p>В моем случае я наткнулся на одну неприятность: первая сборка завершилась неуспехом =) Проблемой было то, что у тревиса не было прав на вызов команды gradlew. Исправляется это тем, что в наш файл <strong>.travis.yml</strong> нужно добавить строчку:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">before_install:
 - chmod +x gradlew</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для тех, кто знаком с unix системами, эта команда достаточно знакома: она дает права на запуск команды gradlew.</p>
</div>
<div class="paragraph">
<p>По умолчанию Travis запускает команду gradlew assemble; если вы хотите переопределить такое поведение, то вам нужно дописать еще пару строк в .yml файл:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">install: true
script: "./gradlew build -x copyDistFiles"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ну вот и все. Теперь наш проект собирается и завершается успехом.</p>
</div>
<div class="paragraph">
<p>Теперь поговорим о тех, кому эта штука может быть полезна. В первую очередь тем, кто пишет свои проекты и не хочет особо париться с настройкой полноценного CI сервера - это очень удобно. Автоматизаторов же должна заинтересовать такая функциональность <a href="http://docs.travis-ci.com/user/gui-and-headless-browsers/">GUI and Headless Browser Testing</a>. В документации указано, что можно запускать тесты с помощью Sauce Labs, xvfb и phantomjs. Крутяк, да? Эта штука поможет сэкономить кучу времени на настройку энваромента. Попробуйте - и вам понравится.</p>
</div>
                    </section>

                    <div class="post_ads" style="
                                              text-align: center;
                                              padding-bottom: 40px;
                                          ">
                        <a class="course_link" href="/course" style="
                            color: blue;
                            text-decoration: underline;
                            font-size: x-large;
                        ">
                        Частные консультации и обучение
                        </a>
                    </div>

                    <footer class="post-footer">
                            <div class="post-tags">
                                    <a href="/tags/Тест-фреймворк.html">Тест фреймворк</a>
                                    <a href="/tags/CI.html">CI</a>
                            </div>
                    </footer>

                    <div class="row">
                          <div class="col-md-6">
                                <div class='related-posts-holder'>
                                     <h2>Похожие заметки:</h2>
                                     <ul class="related-posts">
                                                <li><a class='js-ajax-link' href="/2017/selenide-allure-2/index.html">Allure2: убираем аннотации @Step и интеграция с Selenide</a></li>
                                                <li><a class='js-ajax-link' href="/2017/kotlin-without-marketing/index.html">Kotlin без маркетинга</a></li>
                                                <li><a class='js-ajax-link' href="/2017/json-randomizator/index.html">JSON рандомизатор</a></li>
                                                <li><a class='js-ajax-link' href="/2017/automation-remarks-universary/index.html">Заметки автоматизатора: три года спустя</a></li>
                                                <li><a class='js-ajax-link' href="/2017/master-class/index.html">Мастер-класс: Automation in Action. Kharkov</a></li>
                                                <li><a class='js-ajax-link' href="/2017/xpdays-2017/index.html">XP Days 2017: впечатления</a></li>
                                                <li><a class='js-ajax-link' href="/2017/aadays-feedback/index.html">Отзыв об Agile and Automation days</a></li>
                                     </ul>
                                 </div>
                          </div>
                          <div class="col-md-6">

                          </div>
                    </div>
				</div>

				 <!-- Begin MailChimp Signup Form -->
                                   <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
                                   <style type="text/css">
                                   	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
                                   	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
                                   	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
                                   </style>
                                   <div id="mc_embed_signup">
                                   <form action="//automation-remarks.us10.list-manage.com/subscribe/post?u=d24f95005c1b66c13389aceb9&amp;id=ce47ec0c3f" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                                       <div id="mc_embed_signup_scroll">
                                   	<label for="mce-EMAIL">Подписывайтесь на email рассылку</label>
                                   	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
                                       <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                                       <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_d24f95005c1b66c13389aceb9_ce47ec0c3f" tabindex="-1" value=""></div>
                                       <div class="clear"><input type="submit" value="Подписаться" name="subscribe" id="mc-embedded-subscribe" class="button" style="background: black;"></div>
                                       </div>
                                   </form>
                                   </div>

                                   <!--End mc_embed_signup-->

				<aside class="post-comments">
                    <div id="disqus_thread">
                        <script async="async">(function(d, s, id) {
                                  var js, fjs = d.getElementsByTagName(s)[0];
                                  if (d.getElementById(id)) return;
                                  js = d.createElement(s); js.id = id;
                                  js.src = "//connect.facebook.net/ru_RU/sdk.js#xfbml=1&version=v2.5&appId=344312565764603";
                                  fjs.parentNode.insertBefore(js, fjs);
                                }(document, 'script', 'facebook-jssdk'));
                        </script>
                    </div>
                </aside>
			</div>
		</article>
	</main>

            <footer id="footer">
              <section class="credits">
                <span class="credits-software">Published with <a href="http://jbake.org/">JBake</a></span>
              </section>
            </footer>
         </div>
    </section>

    <script type="text/javascript" src="../js/dependencies.min.js"></script>
    <script type="text/javascript" src="../js/script.js" async="async"></script>
    <script src="//my.hellobar.com/b89babe68c85bfcf7416926983e86b31a9467186.js" type="text/javascript" charset="utf-8" async="async"></script>
</body>
</html>